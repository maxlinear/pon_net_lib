NEXT VERSION

v2.2.1 2025.08.26

- PONRTSYS-14973: Add codespell config and fix spelling in code
- PONRTSYS-14976: Fix error handling in network interface check
  + The error returned from ubus_call is not a PON Adapter error value and
    the return code used in FN_ERR_RET macro should match the really returned value.

v2.2.0 2025.07.03

- PONRTSYS-14712: Resolved issues with OMCI rules definitions in the OMCI rules list
  + Fix matching algorithm when handling the outer VLAN treatment
- PONRTSYS-14858: Report unavailable netifd only once (ip host/lct)

v2.1.0 2025.04.29

- PONRTSYS-14713: add three additional evlan rules with double push.
  + Add three additional rules for handling double tag frames.
- PONRTSYS-14628: Add PA IF version check
  + Add a check for the version of the PON adapter interface and return an error
    if the version of the higher layer module is not supported anymore.

v2.0.0 2024.08.20

- PONRTSYS-13866: Support SFP Ethernet ports on LAB Board
  + Add more ethtool link modes as possible configs for 10G Ethernet, as they
    might be reported by the kernels SFP support or the fixed-link definitions.
  + The fixed-link option for an ethernet port does not allow to change the
    settings for speed and duplex. So if the these settings are not changing or
    not part of the config to be applied, do not report an error.
- PONRTSYS-14347: License change from MxL to BSD (2-clause)

v1.22.2 2024.05.07

- PONRTSYS-13838: pptp uni, reserve more prefs for queue assignment

v1.22.1 2024.02.07

- PONRTSYS-13681: MultiUNI: untagged traffic not forwarded in specific scenario
  + LCT packet redirection skipped for ports on external switch
- PONRTSYS-13673: add external switch tc rules to sw and hw
  + The bridge port reassignment rules are applied both to hw and sw path
- PONRTSYS-13658: Ext VLAN rule 0.x from tagged to untagged in dowsntream should apply to any priority
  + Change the tc rule created by this OMCI EXT VLAN rule to match any priority

v1.22.0 2024.01.22

- PONRTSYS-11704: Remove EPON support
- PONRTSYS-13588: Sporadic "bad file descriptor" during OMCI shutdown
  + Terminate OMCI message thread prior to socket deletion.

v1.21.4 2023.12.07

- PONRTSYS-13623: Fiber re-connect under Traffic system test reveals crashes
  + Set cookie for skbedit UNI egress reassignment

v1.21.3 2023.12.01

- PONRTSYS-13257: Handle external port downstream queue mapping
  + Downstream queue mapping for external ports based on GEM port
    is handled as part of GEM CTP update
- PONRTSYS-13257: Separate external switch rules from extended vlan rules
  + Support for flower skbedit offload added.
  + skbedit filters for UNI interfaces on external switch added.
  + skbedit reassignment filters for UNI interfaces on internal switch
    added.
- PONRTSYS-13307: OMCI support for downstream QoS configuration
  + Implemented support for downstream QoS settings necessary for the
    external switch UNI ports. The ports towards the external switch
    have now QoS configuration giving each port equal amount of the
    available bandwidth and strict prioritization with 8 queues.
- PONRTSYS-11890: Implement priority queue attributes
  + Implement "Priority Queue" Managed Entity attributes
    "Maximum queue size" and "Allocated queue size" reading
    to return the same value as "packet_drop_thr_green_max".
- PONRTSYS-8923: Free memory of msg_rx callback
 + provide a cleanup function for struct pa_msg_ops to
   free allocated memory at shutdown
 + destroy iphost ip0, pon0 and lct qdiscs on shutdown

v1.21.2 2023.10.24

- PONRTSYS-13269: Frames too long counter in ME 24 fixed
  + uses MtuExceedDiscardPkts from ethtool now

v1.21.1 2023.10.12

- PONRTSYS-12881: Add L2 forwarding support for PPTP ports provided by external switch
  + Add support for mirred and vlan tc filter action combination.
  + Add initialization for external switch netdevice.
  + Add VLAN configuration for LAN interfaces with external switch master.

v1.21.0 2023.09.21

- PONRTSYS-12952: Add support for external switch
  + Add configuration support for 5 UNI netdevices,
    external switch netdevice, external switch master netdevice
    for UNI netdevice and external switch VLAN ID

v1.20.6 2023.08.07

- PONRTSYS-12884: Fix LCT to CPU path
  + Disable LCT to CPU path when we create trap rules on LCT.
  + Enable LCT to CPU path when we remove trap rules on LCT.
- UGW_SW-74742: Klocwork fixes
  + additional NULL-pointer checks for netlink related calls
  + bugfix for error handling in filter_clear_one

v1.20.5 2023.07.07

- PONRTSYS-4443: support safec 3.7

v1.20.4 2023.07.03

- PONRTSYS-11284: Move LCT handling to user space
  + Change drop rules for untagged packets in order to redirect
    those packets to LCT net device
  + Read LCT net device name from UCI config file

v1.20.3 2023.06.27

- PONRTSYS-12698: MxL License update

v1.20.2 2023.06.26

- PONRTSYS-10734: Initialize Red-Yellow QDISC for CPU queues

v1.20.1 2023.06.16

- PONRTSYS-12534: Filter definitions not freed
  + Free filter definitions in function add_filters on error

v1.20.0 2023.05.31

- PONRTSYS-236: OMCI ME 24 - Ethernet PMHD
  + Implement struct pa_eth_pmhd_ops->eth_cnt_get()

v1.19.7 2023.05.11

- PONRTSYS-12013: Simplify creation of LCT ME
  + Add support for calling struct pa_pptp_lct_uni_ops->destroy() without
    first calling struct pa_pptp_lct_uni_ops->create()

v1.19.6 2023.03.30

- PONRTSYS-11525: prplOS HAL: Add ANI counters
  + Expose aggregated ANI counters through pa_eth_pmhd_ops->eth_ext_cnt_get()

v1.19.5 2023.03.23

- PONRTSYS-12132: Do not report an error if trying to load an already loaded arp_ndp_reinsert module

v1.19.4 2023.03.07

- PONRTSYS-11980: VUNI0_0 is down if netifd was killed on URX
  + Return error if setting MTU failed
  + Move vlan_forwarding UCI configuration from network to omci
  + Set MTU on VEIP
  + Move (v)UNI UCI configuration from network to omci
  + Put UNI interfaces into down state
  + Set (v)UNI MAC address based on UCI settings
- PONRTSYS-11974: Multicast vlan operation test failed: Can't create Managed Entity
  + Fix deletion process for multicast tc filters

v1.19.3 2023.03.03

- PONRTSYS-11970: Use dedicated multicast bridge for GEM sharing
- PONRTSYS-11333: Replace the use of the pon_net_lib UCI get/set functions
  + Remove the pon_net_uci files and replace calls to get/set functions with
    calls to get/set callback functions from pon_adapter

v1.19.2 2023.02.14

- PONRTSYS-11802: Dual UNI IGMP Multicast stop after shutdown of evc-map on UNI1
  + Avoid changing the "main" multicast bridge in multicast GEM sharing
  + Only change the "main" multicast bridge when multicast GEM is removed from
    all bridges or when bridge is deleted

v1.19.1 2023.01.30

- PONRTSYS-11351: IP Host bring up on URX
  + Disable CPU queue creation for IP Host on URX

v1.19.0 2023.01.24

- UGW_SW-72207: pon build issue with gcc-11
  + Access ethtool data over wrapper struct
- PONRTSYS-11759: URX: Ethernet UNI not working on UGW 9.x
  + Adapt number of words used for link mode bitmaps
- PONRTSYS-11514: BBF 6.3.6 fails in UGW 9.x on URX
  + Complete GEM settings log with multicast parameter
  + Fix log line ending

v1.18.8 2022.12.02

- PONRTSYS-11293: Remove VAF filter if BP preassign table exists
  + Remove VLAN Aware Forwarding filters if MAC Bridge Port
    Preassign Filter ME exist on the same interface as VLAN Tagging
    Filter Data.
  + Don't create a filter if BP's related ME does not exist

v1.18.7 2022.11.20

- PONRTSYS-11541: VLAN aware bridging not working on URX
  + Endianness for VLAN protocol corrected

v1.18.6 2022.10.31

- PONRTSYS-11275: Analyze and fix Klocwork issues in PON projects
  + Add check for array size limit in update_preassign_tables()
  + Remove unnecessary assignments
  + Handle possible error from nl_socket_get_fd()
- PONRTSYS-10417: Remove drop_precedence_color_marking_set API
  + API function drop_precedence_color_marking_set() is redundant
  + Color marking is configured using update() instead of
    drop_precedence_color_marking_set()

v1.18.5 2022.10.06

- PONRTSYS-11432: Correct documentation and naming of function arguments
- PONRTSYS-11292: Add support for MAC filtering using flow rules
  + Implement MAC Bridge Port Filter Preassign Table
  + Add support for eth_dst_mask
  + Add generic pon_net_pair_walk()
  + Extract struct pon_net_tc_filter and rename tc_info to
    pon_net_tc_filter_array
  + Rename tci_list_eq to generic pon_net_array_eq_u16, for reuse
- PONRTSYS-11262: Replace Intel by MaxLinear within what string

v1.18.4 2022.09.16

- PONRTSYS-11086: Support of OMCI IOP mask
  + Remove the is_iop_mask_set parameter from rules_add()
  + Add an option to ignore DS Extended VLAN rules priority matching

v1.18.3 2022.09.09

- PONRTSYS-11296: Add common ubus handling to OMCI daemon
  + Use pon_adapter ubus_call
  + Remove direct ubus calls
- PONRTSYS-11275: Analyze and fix Klocwork issues in PON projects
  + Check correct return value
  + Use calloc() for multiple elements
  + Use same type for shift variable

v1.18.2 2022.09.01

- PONRTSYS-11224: Fix segmentation fault in omciaction on URX
  + Fix segmentation fault when trying to delete bridge port, that
    does not exist

v1.18.1 2022.08.26

- PONRTSYS-11209: VLANs unexpectedly configured on eth0_1_3 in case of vlan aware bridging
  + Do not configure VLAN Aware Bridging for broadcast GEMs
- PONRTSYS-10491: Libnl: split rtnl_link_af_ops and rtnl_link_info_ops in bridge.c
  + Include new header bridge_info.h
- PONRTSYS-10663: igmp tc filters incorrectly configured
  + Set ip proto in tc rules for igmp/mld in upstream
- PONRTSYS-11029: Fix the issue where vlan_entry_clear() removed the VLAN from the bridge,
  even if there were other interfaces that used it.
- PONRTSYS-11081: EtherType endianness issue for reinserted frames
  + Assign EtherType for reinserted frames in Big Endian byte order
- PONRTSYS-10826: Support Aquantia PHY 2.5G and 5G operations
  + Add the missing "5000baseT_Full" to the advertised modes when autodetection is configured.
- PONRTSYS-10063: Fix multicast LAN handling
  + Fix Multicast forwarding update function to correctly iterate over
    portmap provided by user.
- PONRTSYS-10610: Enable multicast handling even if no MOP ME is present
- PONRTSYS-10537: Fix problem with GEM CTP sharing between MC GEM ITPs
  + Configure Multicast GEM Extended VLAN rules on the Multicast UNI ports
  + Change ds_mode_filtering_set() to ds_mode_filters_update()
  + Add pon_net_bp_ifname_get(), which returns actual interface name connected
    to the bridge
  + Add clone operation to rule collection
  + Support PA_EXT_VLAN_MC_GEM_ITP in pon_net_associated_ifname_get()
  + Add UNI_UNSPEC
  + Change pon_net_ext_vlan_rules_move() to pon_net_ext_vlan_rules_swap()

v1.18.0 2022.07.06

- PONRTSYS-10614: Improve PON QoS traffic class mapping
  + Enable SPCP DSCP class mapping for pon0, eth0_0, eth0_1 and VUNI0_0
- DRV_DPM_SW-590: DP new design test and verify
  + Use master when setting bridge learning option
- PONRTSYS-10590: pon_net_ext_vlan_table.h rule 1.31 probably wrong
  + In rule 1.31 act_vlan_prio value change to "fip"
- PONRTSYS-10642: ext vlan: can't find us rule for stacking scenarios
  + update comment for 1.12 rule
- PONRTSYS-10467: Fix update() of the GEM CTP, when port_id was changed
- PONRTSYS-10537: Fix problem with GEM CTP sharing between MC GEM ITPs
  + Fix wrong connection to the bridge in case of GEM CTP sharing through
    different Multicast GEM Inteworking TP

v1.17.4 2022.06.14

- PONRTSYS-10537: Fix problem with GEM CTP sharing between MC GEM ITPs
  + Use ctx->me_list instead of mapper for Multicast GEM ITP
  + Increase priority pool size for Extended VLAN DS mode filters
- PONRTSYS-10596: Fix Extended VLAN rule 2.27
  + Downstream direction should now correctly use specified priority instead of 0
- PONRTSYS-10591: Add a rule for "Modify the outer tag if outer tag and outer pbit matches, copy prio"
  + Add support for 2.33 extended VLAN rules
- PONRTSYS-10606: Cleanup VLAN forwarding when bridge is deleted
  + When bridge is deleted, VLAN forwarding will now be cleared
- PONRTSYS-10516: rtnl_qdisc_add() in netlink_qdisc_prio_create() fails sometimes
  + Remove all devices managed by PON Net Lib before creating qdiscs

v1.17.3 2022.06.02

- PONRTSYS-10551: Match any single/double tagged rule together with push tag
  + Add support for 1.38, 2.32 extended VLAN rules
- PONRTSYS-10636: Memory leak in netlink_netdevice_exists
  + Add the missing rtnl_link_put()
- PONRTSYS-9935: Create separate context for pon_net_netlink
  + Fix wrong argument passed to netlink_netdevice_state_set() in
    pptp_lct_uni_update()
- PONRTSYS-10086: Split PON Net Lib "init" into "init" and "start"
- PONRTSYS-10490: VLAN Tagging Filter Data filters are deleted too many times
  + Do not change VLAN forwarding if VLAN operation didn't change
  + Do not change TC filters if VLAN operations didn't change

v1.17.2 2022.05.12

- PONRTSYS-9563: Implement state restoration for Extended VLAN rules application failure
- PONRTSYS-8238: Cleanup the leftover definitions
  + struct pon_net_mcc_ifnode and pon_net_mcc_if_head are not needed anymore
- PONRTSYS-10496: Extended VLAN: can't find us rule for stacking scenarios
  + Add support for 1.12, 1.36, 1.37, 2.29, 2.30, 2.31 extended VLAN rules
- PONRTSYS-9935: Create separate context for pon_net_netlink
- PONRTSYS-10494: Move functions from pon_net_common.h to dedicated .h files

v1.17.1 2022.04.14

- PONRTSYS-7860: Add support for VLAN aware bridging
  + If "ponnetwork.common.vlan_forwarding" is 0, then PON Net Lib will switch
    to VLAN Aware bridging
  + VLAN Aware bridging uses netlink messages equivalent to 'bridge vlan' to
    configure VLAN on a bridge
  + VLAN Aware bridging configures "vlan_filtering 1 vlan_protocol 802.1q vlan_stats_enable 1"
    options on each bridge
- PONRTSYS-10389: Extended vlan operation match cvid+prio -> pass does not exist
- PONRTSYS-10381: Extended vlan operation match cvid (1.19) does not result in a tc-filter rule
- PONRTSYS-10226: Move queue and interface creation out of pon_net_register.c
- PONRTSYS-10267: IP Host interface ping is not working on specific OLT
  + Read IP host MAC address from UCI
  + Assign iphost_bp to dedicated CPU queue

v1.17.0 2022.03.04

- PONRTSYS-9643: Fix installation of docs with automake
  + Install documentation to /usr/share/doc/pon_net_lib/
- PONRTSYS-9989: Move cpu-queues-init.sh functionality into pon-net-lib
  + Move the functionality of the cpu_queues_init.sh script into the pon_net_register.c
  + Expanding pon_net_context with new prio and handle for pon0
- PONRTSYS-10270: Multicast VLAN operations does not always clean up filters on pon0
  + Fix cleanup of multicast flow forwarding filters not being done if UNI
    is deleted first
- PONRTSYS-10211: Remove ifxos dependencies
  + Use pthread mutex and standard posix semaphore for locks and events.
    Don't link anymore to ifxos and remove related configure options.
    Remove ifxos includes and reorganize includes in pon_net_common.h, fixing related code.
- PONRTSYS-10188: Move vlan forwarding rules ordering to higher layers
  + Add tci_mask to forwarding rules
  + Add compile option to support PCP VLAN filtering
  + Set priority based on VLAN forwarding rule
- PONRTSYS-10033: Errors in vlan tagging filter creation and cleanup
  + Fix colliding priority numbers
  + Add extra macro "dbg_err_fn_ifname_ret" for error message with ifname and ret
  + In "filter_cache_pool_return" check if the interface is still in the db
- PONRTSYS-8844: Refactor pon net lib iphost handling
  + IP Host uses mirred action instead of trap when setting up filters
  + Add missing lock to netlink_netdevice_exist
  + Add netlink_filter_arp, netlink_filter_icmpv6, netlink_filter_mac
    and netlink_filter_vlan functions
  + Vlan Tagging Filter data will now configure Vlan Aware Forwarding also
    for IP Host

v1.16.0 2022.02.01

- PONRTSYS-10167: Compile warnings (errors with -Werror) with glibc
  + Fix glibc compile warning with snprintf()
  + Fix glibc compile warning with fgets()
- PONRTSYS-9602: Add OMCI support for pmapper DSCP-to-pbit-to-gem mappings handling
- PONRTSYS-10081: duplicate forwarding rules created in vlan filtering
  + Don't create flow forwarding rules if similar rule with same vlan id was
    already created based on different tci
- PONRTSYS-8843: Refactor IP Host handling
  + Adapt IP Host interface creation.
  + Add Bridge port and Virtual IPHOST netdev.
  + Register Bridge port to bridge.
  + Remove MAC address trap rules.
  + Set Ext VLAN rules on Bridge port.
  + Adapt Ext VLAN: reverse direction and configure in hardware.
- PONRTSYS-10026: Add support for OMCI VLAN filtering forward option=0x14
  + Add DEI to VLAN filter mask
  + Add TC cookie to VLAN filter for DIE
  + Create VLAN forwarding rules also for TCI == 0
- PONRTSYS-10025: Add support for OMCI VLAN filtering forward option=0x01
  + Extract filter_add() function
  + Add support for tagged_drop_enable
  + Add support for pass_on_match_enable
  + Also add a rule when untagged packets should pass
  + Extract pon_net_tp_get() from loop
  + Create forwarding rule for untagged traffic
  + Allow calling pon_net_gem_dir_get() from other files
  + Create forwarding rules also for GEM ports
  + Move pon_net_vlan_forwarding_activate() to UNI connect
- PONRTSYS-10014: Change multicast filter handling for action MODIFY and untagged packets
  + Use action PUSH instead of MODIFY in case of untagged packets
- PONRTSYS-9971: Fix MT2 OD247 6.2.9 scrambled 3 fail
  + Do not activate vlan forwarding if P-Mapper is not yet in a bridge.

v1.15.4 2021.12.02

- PONRTSYS-9777: Show interface name when rtnl_link_get_by_name() fails with error
- PONRTSYS-4224 - set the MTU size of the gem-omci netdevice
  + set MTU=2048 while init (see netlink_pon_net_omci_gem_init())
    Note: the netlink function expects the Max Frame Size which results in:
    MTU size = 2048 - Eht Hdr - FCS = 2030
- PONRTSYS-9951: wrong check in netlink_netdevice_operstate_get
  + The check for the state was wrong, as it is a simple value and not a bitmask.
    The "link" for this is now retrieved by "rtnl_link_get_kernel", to use the
    current state from the hardware.
- PONRTSYS-9506: Fix failures during GEM port assignment to shapers with traffic
  + Do not reassign GEM ports on US side, if the qdiscs are updated on the
- PONRTSYS-9194: Fix BBF Scrambling testcases 6.12.2 fail (Error on received stream)
  + Reconnect Pmapper if changelink() performed by the driver, would cause it
    to temporarily be without GEM ports and in a bridge
- PONRTSYS-9682: OMCId crashes when EEPROM not available
  + Check if tid is valid before calling pthread_cancel()

v1.15.3 2021.11.11

- PONRTSYS-9004: PON Net lib TC handle and prio manager
  + Change type of min and max in pon_net_pool and remove wrong comments
  + Add pon_net_dev_db, which keeps track of handle and priority allocation
  + Generate TC filter handles and priorities using
    pon_net_dev_db_gen()/pon_net_dev_db_put
  + Make TC filter handle and priority ranges configurable per netdevice
- PONRTSYS-9402: Fix using US where DS should be used in Ethernet Extended PMHD
- PONRTSYS-9788: Add "-Wshadow" and fix errors
- PONRTSYS-9660: BPF socket filter for ICMPv6 multicast packets not working
  + BPF socket filter code has been adjusted in general because of
    VLAN tag handling.
  + Extra IPv6 hop-by-hop header considered in addition.
- PONRTSYS-9540: Improve extVLAN handling for removing rules
  + Remove a filter is done by search for the filter to remove. No longer based on the index.
- PONRTSYS-9122: Use pthread directly in pon-net-lib

v1.15.2 2021.10.05

- PONRTSYS-9501: Update libnl to version 3.5.0
  + Fix endianness of vlan_proto

v1.15.1 2021.09.30

- PONRTSYS-9501: Update libnl to version 3.5.0
  + The VLAN action configuration was integrated upstream with a different
    interface, adapt our code. The rate API now takes 64 bit integers.
  + Split rtnl_vlan_set_action() into two functions. The
    rtnl_vlan_set_action() from our old implementation was split into the
    rtnl_vlan_set_mode() which sets the VLAN action and the
    rtnl_vlan_set_action() which sets the flower action.
- PONRTSYS-9267: Add PON net lib to RDK-B PON layer
  + Link against libnl-3
  + Add version to shared library

v1.15.0 2021.09.23

- PONRTSYS-9281: Remove OMCI Bridge
- PONRTSYS-9480: Fix using eth0_0_2 where VUNI should be used

v1.14.3 2021.09.14

- PONRTSYS-9478: Multicast flow forwarding rules are duplicated
  + Prio for multicast flow forwarding rules is now calculated based on handle
    to avoid rules duplication
- PONRTSYS-6603: Implement Ext VLAN downstream modes
- PONRTSYS-8636: Move functionality of pon_mcc_drv to standard kernel interfaces (part 1)
  + Store Multicast bridge interface
  + Direct return from multicast enable/disable functions if possible
  + Set bridge port dest and src lookup for multicast
  + Add multicast flood configuration

v1.14.2 2021.08.30

- PONRTSYS-8351: Support for multicast data and control VLAN ops that are different from the unicast VLAN ops
- PONRTSYS-9406: eth0_1_3 is in the bridge although both eth0_0 and eth0_1 are bridge members
  + Broadcast netdevices no longer used in scenario with dual uni connected to single bridge
  + Broadcast netdevices are no longer used in scenarios with multiple UNI interfaces
  + that are connected to a single bridge
- PONRTSYS-9198: Set multicast flag for multicast GEM netdevice
- PONRTSYS-9342: Downstream traffic is not working on GPON Dasan OLT
  + Delete both filters if dir is NETLINK_FILTER_DIR_BOTH
  + Do not delete clsact in VLAN Tagging Filter Data
  + Add filter_cache, to store tc filters there for later deletion
- PONRTSYS-8945: improve error-handling
  + Simplify error handlers in netlink functions
  + Show names for rtnl_link_name2i failures

v1.14.1 2021.08.06

- PONRTSYS-8997: LGM PON multicast support
  + Multicast related endianness handling corrected
- PONRTSYS-9125: Create a BPF filter for the multicast socket
- PONRTSYS-9018: Add string errorcode and interface name to netlink error messages
- PONRTSYS-9131: LGM netlink_filter_clear_one returning an error
  + Compare against negative errorcode
- PONRTSYS-9226: OMCI operational state for PPTP Eth UNI is inverted
- LMTSYS-4947: 8 DS Queues created by omci on UNI interface for LGM not valid
  + New config option to skip creation of DS queues

v1.14.0 2021.07.12

- PONRTSYS-9100: Implement Ethernet Extended PMHD
- PONRTSYS-9128: Index calculation issue (compilation fails on 64 bit systems)
- PONRTSYS-9024: Unexpected drops of UDP frames when membership query comes in LAN port capture
  + Updating forwarding table no longer requires to remove and add new
    entries as Multicast driver should now support update by adding.
- PONRTSYS-9093: remove_queue_filter() fails on admin down
  + Increase the size of 'gem' array to 256
- PONRTSYS-8568: Single bridge multiple UNI multicast
  + Extend multicast and broadcast gem to support multiple UNI in single bridge
- PONRTSYS-9036: BBF Scrambling testcases 6.1.34 fail (Error on received stream)
  + Use VLAN action modify also for VLAN priority 0
- PONRTSYS-9131: LGM netlink_filter_clear_one returning an error
  + When deleting tc filter, do not print error if it is NLE_OBJ_NOTFOUND
  + Do not attempt to destroy ingress tc filters during cleanup of
    multicast vlan operations
- PONRTSYS-8982: Traffic Descriptor with CIR=0 and PIR!=0 has wrong behavior
  + Use DEFAULT_COMMITTED_RATE if CIR is 0
- PONRTSYS-8817: Improve link_delete performance
  + Use nl_cache_remove() instead of nl_cache_refill()
- PONRTSYS-4337: Off by one error in UCI config parsing
- PONRTSYS-3951: Support for multicast data VLAN operations
  + Add PON_FILTER_EXT filter handle type
  + Remove PON_FILTER_COLOR_MARKING and PON_FILTER_POLICE, handle types
    in favor of PON_FILTER_EXT
  + Do not send cookie in vlan action if it is 0
  + Move Ext. Vlan TC filter priorities
  + Implement mc_ext_vlan_update()
  + Implement mc_ext_vlan_clear()
  + Remove SW Multicast Vlan operations
- PONRTSYS-8894: Check if pmapper have GEM ports before reapply filters
- PONRTSYS-8729: Speed up tc filter deletion
  + remove unnecessary manual filters removal before clsact destroy
  + improve cleaning existing clsacts by deleting them and adding them again
  + replace all remaining reads of tc filters from cache with reading from
    data stored within me_list
  + improve handle generation for filters on GEM CTP
  + prio of filters on GEM CTP is now calculated based on handle

v1.13.2 2021.04.29

- PONRTSYS-8936: BUG in nl_object_put reported during GEM creation
  + Update the locking in pon_net_netlink.c to ensure all calls to
    libnl-functions are protected by the nl_lock.
  + Move the locking from the static functions to global functions.
  + Add comments to describe the needed locking of each function.
- PONRTSYS-8859: Memory leak during OMCI re-configuration
  + Add missing rtnl_link_put in netlink_netdevice_operstate_get and cleanup
    some other places, where rtnl_link_put is used.
    If this is not done correctly, the memory for "link" is not freed on a
    cache-refill, as there is still a reference to it.
  + Remove wrong calls of rtnl_link_put in set_gem_settings, as the calling
    code will do this already.
- PONRTSYS-8905: Failure creating ME84 'VLAN tagging filter data' with Altice Labs OLT
  + Fix cookie debug prints
  + Fix multicast default drop rules prio and handle to not collide with VLAN filtering
  + Reduce debug severity of missing bridge port termination point functions
    from warning to printout due to recent implementation changes where not
    all types are required to implement all functions.
- PONRTSYS-8773: Shaper rates not working as expected
  + Increase default values of CBS to 256k and PBS to 512k

v1.13.1 2021.04.15

- PONRTSYS-8728: Speed up qdisc deletion
  + Get rid of rtnl_qdisc_cache
  + Do not call nl_cache_refill() in qdisc_destroy()
  + Change qdisc_destroy() to accept parent of the deleted qdisc
  + Remove netlink_qdisc_prio_destroy(), netlink_qdisc_drr_destroy()
    netlink_qdisc_tbf_destroy() and netlink_qdisc_red_destroy() in favor
    of netlink_qdisc_destroy()
  + Remove drr_destroy(), prio_destroy(), tbf_destroy() and red_destroy()
    callbacks in favor of generic_destroy()

v1.13.0 2021.04.08

- PONRTSYS-8474: Mapping GEM to multiple queues shows issues in WRR
  + Adds a check to prevent GEM ports from being assigned to queues with 0 quantum.
- PONRTSYS-8689: Removing gems from pmapper in a bridge shows errors
  + Print text for error code when tc offload failed
- PONRTSYS-8725: Enable and fix more warnings
  + Cleanup Autoconf and move generated files to subfolders
  + Enable compiler warnings and fix reported issues
- PONRTSYS-8550: ONU cannot be brought up after admin down
  + Do not delete children of a qdisc subtree, instead let the Linux kernel do it.
  + Do not update qdiscs during GEM deletion based on traffic management option.
- PONRTSYS-8238: Use packet reinsertion for IGMP/MLD handling in multicast code
  + Use the interface "ins0" to insert packets with information from which interface they were received.
    This allows to remove the tracking of active interfaces for the forwarding to upstream/downstream.
    Also the VLAN modifications on the packets is removed (except rules from MOP), as this will be done by the hardware now.
- PONRTSYS-8645: IP host ME (IPv4) on CAL_PON broken
  + Change reconnect() to accept a callback allowing to select which bridge
    ports are to be reconnected
  + When UNI is deleted, reconnect only downstream GEM ports
- PONRTSYS-8526: Fix system deconfiguration
  + Do not re-enable CPU port BP map from LAN side as this unsupported behavior which cause CPU overload
  + Bring LCT interface down on deconfiguration
- PONRTSYS-8622: Multicast drop rules
  + Setup rules to drop multicast traffic from unspecified groups when multicast GEM is added to the bridge
- PONRTSYS-141: Downstream only GEM in multi bridge mode support
  + Sharing of broadcast GEM between two different bridges
- PONRTSYS-2312: OMCI ME 280 - Traffic descriptor ME for shapers
  + Create TBF qdiscs, when traffic descriptor is assigned to GEM
- PONRTSYS-8472: OMCI is stuck after ONU power-cycle, fiber plugging
  + Do not call reconnect() in tp->reconnect callback for UNI
- PONRTSYS-8577: Wrong OMCI message length on LGM
  + Calculation of OMCI message length corrected
- PONRTSYS-8626: Fix IP Host interface status storage on update
- PONRTSYS-2201: OMCI ME 280 - Traffic Descriptor for traffic meters
  + Extract structs from pon_net_gem_port_network_ctp.c
  + Add pon_net_me_list_get_data()
  + Add Traffic Descriptor me with Police support
- PONRTSYS-8526: Kernel crash during failed ARP packet reinsertion
  + Call pon_net_ubus_simple_call only with UBUS

v1.12.1 2021.01.26

- PONRTSYS-6428: Switch tc-mqprio to tc-prio
  + Use tc-prio instead tc-mqprio
- PONRTSYS-8115: OMCI support for single GEM port to multiple queue selection
  + Tidy up mappings between the Priority Queue's priority, traffic class and
    queue
  + Mapping GEMs to multiple queues passes traffic class in the cookie instead
    of a queue number when traffic management option is set to rate controlled

v1.12.0 2021.01.15

- PONRTSYS-8115: OMCI support for single GEM port to multiple queue selection
  + Implement ONU-G
  + Allow GEMs to be mapped to multiple queues if traffic management option
    is set to rate controlled
- PONRTSYS-8444: Endianness correction for multicast handling
  + Correct Endianness for Ethernet and IP protocol type
- PONRTSYS-8414: Too many bridge operations in traffic stress test
  + Add reconnect() callback which is intended to perform disconnect() and
    connect() in more efficient manner
- PONRTSYS-3749: OMCI ME 65282 - Rename ZTE ext. Multicast Operation Profile
- PONRTSYS-8317: Cleanup interface in Multicast driver library
- PONRTSYS-8192: Multicast GEM multi bridge support
  + Refactor MAC Bridge Port Config Data implementation
  + Implement support for connecting Multicast GEM Port ITP to multiple bridges
  + Update multicast code to use the bridge port of eth_0_X_2 instead
    of eth_0_x in case of shared GEM scenarios
- PONRTSYS-3058: Error message multicast mode eth0_1
  + Do not try to add query related MC table entry
    for lan port not connected to any bridge.
  + Use separate netlink socket for mcc

v1.11.1 2020.12.10

- PONRTSYS-8283: Enhance CPU packet trap handling
- PONRTSYS-8285: Reinsertion of ARP and NDP packets trapped to CPU
  + Load mcast_bridge_reinsert when LCT is activated

v1.11.0 2020.12.03

- PONRTSYS-8069: Cleanup switch snooping API for IGMP/MLD trapping
  + Rename "pon_net_mcc_snoop_enable" to more generic name "pon_net_mcc_multicast_enable"
- PONRTSYS-8123: Make flow-based forwarding conditional in OMCI configuration
  + Add new UCI option "vlan_forwarding" which is enabled by default
- PONRTSYS-8263: Remove support for lazy queue creation
- PONRTSYS-8145: Fix CPU port on eth0_0 and eth0_1 portmap not being properly removed

v1.10.2 2020.11.13

- PONRTSYS-8200: Support upstream data flow for multiple UNI ports
- PONRTSYS-8145: Remove CPU port from the eth0_0 portmap
- PONRTSYS-4997: UCI config "ponnetwork.common.max_ports" shall be replaced by autodetection
  + Add function to check maximum number of ports based on active ports instead of getting constant value from UCI
- PONRTSYS-7969: Configure LCT traffic classification rules
  + Fix WIN32 simulation
- License and Copyright update to MaxLinear

v1.10.1 2020.11.03

- PONRTSYS-1542: OMCI priority queues WRED configuration
  + Fix unreachable code (wrong returns)
- PONRTSYS-7969: Configure LCT traffic classification rules
  + Add trap rules to LCT interface for ARP MLD PTP and MAC address packets
- PONRTSYS-8152: Fix problem shown by BBF 247 6.3.3 and 6.3.5
  + Fix incorrect check for buffsize
- PONRTSYS-7848: Port QoS driver to LGM
  + Correction of red probability scaling

v1.10.0 2020.10.23

- PONRTSYS-4197: 64 WRR queues hierarchical (traffic scheduler ME) support
  + Implement partitioning of qdiscs that have more than 8 children
  + Reorganize qdisc handle numbering
- PONRTSYS-7970: Classify IGMP packets to CPU
- PONRTSYS-3891: Fix conversion and comparison warnings
  + Fix all remainig warnings and enable the options
  + Remove some unneeded includes
- PONRTSYS-8061: Remove banned C functions in pon_net_lib
  + Replace functions strncpy and sscanf with their safe versions
  + Fix indev and strncpy_s use

v1.9.2 2020.10.01

- PONRTSYS-8014: GLIBC builds compilation fix

v1.9.1 2020.09.29

- PONRTSYS-7767: Add iphost netdev support to pon ethernet driver
  + Add iphost netdev support for extended vlan
- PONRTSYS-7968: Classify and trap OMCI packets to CPU
  + Add support for trap action
  + Add TC_H_MIN_PRIORITY define
  + Create a TC filter with action trap after omci channel initialization

v1.9.0 2020.09.23

- PONRTSYS-7846: gem_itp_update error handling fix
- PONRTSYS-7959: Fix incorrect scheduling mode for GEM port to queue mapping (was incorrectly set to WRR instead of SP).
- PONRTSYS-5444: Mapping of multiple tc-flower VLAN rules to single hw rule using tc-action cookie
  + Include information about downstream rules inside the cookie
- PONRTSYS-2683: Add IP Host support
  + Add UCI support and extract UBUS code for simpler usage
- PONRTSYS-3891: Add -Wconversion and -Wunused-parameter to PON Net Lib
  + Enable and fix warnings in the code
- PONRTSYS-7163: pon_net_lib enhance debug logs
  + Cover all pon_net_lib functions which call "ip" or "tc" commands
- PONRTSYS-7841: BBF-247 issue3: TC_6.2.14, TC_6.2.15 and TC_6.2.16 failing
  due to "Error: Failed on Drop precedence"
  + Fix pcp values to queue numbers mapping for veip
- PONRTSYS-7835: pon_qos_tc_map fail on BW reconfigure
  + Allow GEMs to point to a queue from a different T-CONT
  + Make GEM port "assignments" that point to the non-existent T-CONT empty.
  + Fix problem with trying to add a queue to a non-existing qdisc

v1.8.6 2020.08.06

v1.8.5 2020.07.29

v1.8.4 2020.07.28

- PONRTSYS-7614: Make PPTP Ethernet UNI configuration handling working
  + Update deprecated ethtool calls ETHTOOL_GSET/_SSET with the
    new ETHTOOL_GLINKSETTINGS/_SLINKSETTINGS.
  + Use the extended masks to support also modes like 1000baseX or 2500baseT.
  + When applying the config set always the corresponding advertising flags
    and prefer auto-negotiation. Set speed and duplex in addition for
    drivers/interfaces, which don't use auto-negotiation.

v1.8.3 2020.07.07

- PONRTSYS-4876: IP_TOS and rule 0.6 fix
- PONRTSYS-7670: netlink failures on RX_LOS simulation iterations long term test
  + Use 32 bit T-CONT Linux ifindex in rtnl_link_gem_set_tcont()
- PONRTSYS-1542: OMCI priority queues WRED configuration
  + Implement ONU2-G ME
  + Add a setup of tc-colmark action on the UNI and GEM ports
  + Extract qdisc management code from the T-CONT ME implementation
  + Add support for qdisc hierarchies in downstream
  + Create 2 red qdisc as a child of every queue of drr and mqprio qdiscs.
  + Implement get_lanports()
  + Do not print error in netlink_filter_clear_one()
  + Extract common code from PPTP Ethernet UNI and VEIP implementations

v1.8.2 2020.06.27

- PONRTSYS-7598: Exclude the CPU port from LAN and PON side BP's maps
  + Remove calls for PON interfaces (handled in driver) and call it for UNI
    and VEIP interfaces on creation.

v1.8.1 2020.06.25

- Internal test version

v1.8.0 2020.06.19

- PONRTSYS-7431: Enhance Multicast handling for VEIP and Multi-UNI
  + Add functions to use stored names for UNI or VEIP when checking ifindex
    (from Linux) or port index (for handling multiple interfaces).
- PONRTSYS-7535: Fix pon_simulation compilation error on old Linux machines

v1.7.1 2020.05.19

- PONRTSYS-6765: Smarter update of GEM Port Network CTP
  + Check if direction changed to properly remove/add priority queues and change traffic manage ptr
- PONRTSYS-3741: PPTP Eth UNI Configuration Indication implementation

v1.7.0 2020.05.08

- PONRTSYS-7164: Downstream traffic is not working if AES encryption is enabled
  + Fix this by correctly update an existing gem port instead of deleting and
    creating a new one.
- PONRTSYS-7154: PON Net Lib is failing silently when queue related TC filter creation fails
  + Change warning to an error in hw_or_sw_cls_add()

v1.6.3 2020.04.22

- PONRTSYS-6445: Integrate FW message interface version 3.14
  + Add an improvement for the order of TC queue related filters creation

v1.6.2 2020.04.06

- PONRTSYS-6995: Move GEM creation/deletion to ETH driver
  + Move setting of GEM port attributes to PON Net Lib
- PONRTSYS-6849: Change number of supported TCONTs for PMAPPER
- PONRTSYS-6437: Add DP update API support in PON ethernet driver
  + Remove the workaround_pmapper_strategy
- PONRTSYS-6728: Flow based forwarding is not working with vUNI netdev
  + Use the same bridge port functions for VEIP as for UNI
  + Remove unused functions
  + Fix VLAN Aware forwarding for the VEIP

v1.6.1 2020.02.28

- PONRTSYS-5117: SDL: Restrict the number of MAC addresses which can be learned per port
  + Allow sending mac_learning_limit to kernel via libnl
- PONRTSYS-6427: Optimize OMCI DP configuration
  + Do not recreate all qdiscs and classes when updating the Priority Queue
    ME. Recreate only the qdiscs that needed to be changed.
  + Add a new experimental "lazy_queue_creation" option, which delays the
    queue creation to the moment when P-Mapper is created.
- PONRTSYS-6168: Create downstream queues upon VEIP creation
  + update pon_net_common.[hc]
  + update tc_ds_queue_filter_add and tc_ds_queue_filter_remove functions
  + update virtual_eth_interface_point_create and
    virtual_eth_interface_point_destroy functions
- PONRTSYS-6385: Recreating queues cause weight 0 in reconfiguarion
  + Fix weight 0 in reconfiguration
  + Fix not being able to delete all queues during Priority Queue update
- PONRTSYS-6466: Datapath configuration fails in case of AES DS enabled
  + Do not re-create GEM when it is already connected to pmapper
- PONRTSYS-6301: Remove CPU port from pmapper portmap when using flow based forwarding
  + Add new function to enable/disable bridge port to CPU forwarding through ethtool
  + Disable when VLAN flow forwarding is used
- PONRTSYS-5960: Disable PAUSE frames on LAN ports with ethtool interface
  + Send ethtool command to disable PAUSE frames.
- PONRTSYS-6075: PON net library security review
  + Security review fixes applied
- PONRTSYS-5261: Fix memory leaks in PON Net Lib visible in unit_tests
  + Add missing rtnl_link_put()

v1.6.0 2019.12.18

- PONRTSYS-4043: OMCI Traffic Scheduler ME mixed mode support
  + Change implementation of the T-CONT to add support for the mixed mode.
- PONRTSYS-4723: Flow-based VLAN-aware forwarding
  + Implement PON Adapter interface
- PONRTSYS-5379: UNI Ethernet interfaces shall be off by default_config
  + Set LCT interface to up over UBUS

v1.5.0 2019.12.04

- PONRTSYS-5707: priority queues to support for flexible Traffic Scheduler attribute
  + Add support for traffic scheduler flexibility
  + Take T-CONT from the root scheduler
  + Move related_port, traffic_scheduler_g_ptr from
    pa_priority_queue_ops::create() function signature into the update_data

v1.4.0 2019.11.19

- PONRTSYS-5995: Fix problems with sprintf_s and snprintf_s
  + Use sprintf_s() instead of snprintf_s()
  + Fix scanf_s() modifiers
- PONRTSYS-5194: Fix compile warnings in PON Net Lib
  + Fix compiler warnings

v1.3.1 2019.10.29

- PONRTSYS-5344: Add support for tc-action cookie to pon net lib
  + Change algorithm of adding Ext. VLAN filters to make use of the cookie
  + Send cookie with Ext. VLAN filters
- PONRTSYS-5176: New VEIP feature broken
  + Add VEIP support to Ext Vlan and to bridge ports
  + Fix error when creating Ext Vlan for VEIP

v1.3.0 2019.10.01

- PONRTSYS-5049: Optimize the policy of the extended VLAN configuration from OLT
  + Add cache storing all Ext Vlan rules
  + Reduce number of uneccessary rule additions/removals
- PONRTSYS-5248: The maximum queue size attribute of the Priority Queue ME has been corrected (not to be set to 0)
  + Routines priority_queue_maximum_queue_size_get(), priority_queue_alloc_queue_size_get()
    and priority_queue_scale_get() returns PON_ADAPTER_ERR_NOT_SUPPORTED until any
    implementation is placed accordingly
- PONRTSYS-4889: Optimize netlink_cache_refill
  + Refill cache only if we change something on the interface

v1.2.0 2019.08.26

- PONRTSYS-5003: Set MTU to Maximum Frame Size - 18 in OMCI
- PONRTSYS-4955: Incomplete LAN port traffic scheduler in case of GEM CTP to DS queue pointer
  + Do not remove the PCP to queue assignment when a GEM to queue
    assignment is created
- PONRTSYS-4892: Handle unsupported GEM port to T-CONT assignment
  + If upstream Priority Queue points to a different T-CONT than
    GEM's T-CONT, fail with an error
- PONRTSYS-4918: Fail to process downstream IGMP queries in PRX126
  + Set max_ports value based on platform
- PONRTSYS-4828: Add two additional extVlan rules
  + Rule 1.34 and 2.28 added
- PONRTSYS-3024: OMCI ME 48 - VEIP
  + Implement Virtual Ethernet Interface Point
  + Add unit tests
- PONRTSYS-4890: Only 5 vlan_tagging_filter MEs are supported
  + Fix invalid memcpy_s size parameter

v1.1.6 2019.07.25

- PONRTSYS-4624: Nokia tag untagged case pbit filtering support
  + Rule 2.26 changed and rule 2.27 added
- PONRTSYS-4722: Queue should be removed before pmapper is removed
  + Remove GEM port queues (by removing tc filters), before P-Mapper is removed
- PONRTSYS-4613: Errors observed when running tcont_wrr_configuration test case
  + Extend tc command debug messages

v1.1.5 2019.07.16

- PONRTSYS-4613: Errors observed when running tcont_wrr_configuration test case
  + When changing queuing policy, remove the TC filters first

v.1.1.4 2019.07.08

- PONRTSYS-4572: Add doxyconfig to dist
- PONRTSYS-4463: DSCP Rules testcases update
  + Update unit test for Extended VLAN rules
- PONRTSYS-3975: Add port mapping for UNI ports
  + Add UCI configuration reading and setting for UNI ports
- PONRTSYS-4480: VLAN Tagging filter data destroy function is not implemented
  + Implement destroy function
  + Add testcase to check if all filters are clearead after calling destroy

v1.1.3 2019.06.18

- PONRTSYS-4446: Add rule 1.30 and 2.26
- PONRTSYS-4117: OMCI Extended VLAN DSCP to P-bit table translation to TC command
  + Implement support for DSCP rules (0.6, 0.7, 1.13, 1.14)

v1.1.2 2019.06.13

- PONRTSYS-4196: T-CONT scheduler WRR support
  + Fix Priority Queue creation after MIB reset
  + Add unit tests covering the issue

v1.1.1 2019.06.11

- PONRTSYS-4432: Add pop_and_modify action for ExtVLAN rule 2.8
  + Add new action POP_AND_MODIFY
- PONRTSYS-4196: T-CONT scheduler WRR support
  + Allow switching between WRR and SP based on Priority Queue's weight
- PONRTSYS-4406: Fix PON simulation build for WIN32 (missing memset_s)
- PONRTSYS-4191: Prioritization based on pbit must be inverted in downstream
  + Reverse PCP to Queue number mapping.
  + Refactor the code

v1.1.0 2019.05.16

- PONRTSYS-3626: Ext Vlan action limited to 256 instead of 1024
  + Add associated_type and associated_ptr to pon_net_ext_vlan structure
  + Use internal PON Net Lib index instead of ME ID.

v1.0.5 2019.05.10

- PONRTSYS-2959: Migrate to Safeclib v3

v1.0.4 2019.04.25

- PONRTSYS-3657: Implement more extVLAN rules
  + Add support for rule 1.8, 1.20-1.24, 2.1, 2.7 2.11-2.13, 2.15 and 2.18.
- PONRTSYS-3750: Add support for queue assignment for downstream queues based on Pbit
  + Create downstream default queues based on Pbit value
- PONRTSYS-3205: Prioritization based on pbit must be inverted
  - Fix queues not being created on T-CONT
  - Fix DS/queue cleanup
- PONRTSYS-3755: Update doxygen comments
  + Remove unused files
  + Add description
- PONRTSYS-3761: Adapt PON Net Library to 64bit LE and kernel 4.19

v1.0.3 2019.04.03

- PONRTSYS-3205: Prioritization based on pbit must be inverted
  + Read priority from priority queue
- PONRTSYS-3619: [ExtVLAN] Allow VID 4095 as treat VID
  + Allow 4095 in Treatment Inner Priority field
- PONRTSYS-2856: Add size parameter to ifname_get functions
  + New size argument and check for overflow added to ifname_get functions
- PONRTSYS-2578: Fix PON NetLib Warnings
  + Remove warnings
  + Change interfaces
- PONRTSYS-3738: Separate upstream and downstream APIs for ExtVLAN configuration.
  + Separate pon_net_get_rule_by_filter to pon_net_get_rule_by_filter_us and
    pon_net_get_rule_by_filter_ds
  + The order of minor and major argument has changed in the
    pon_net_get_rule_by_filter_ds and pon_net_get_rule_by_filter_us
    functions. Now major number is first and minor is second + this is
    consistent with the rest of Extended Vlan related functions
  + Add ds parameter to pon_net_find_ext_vlan_rule() to enable searching
    for downstream rules.
  + Simplify signature of the above functions by removing ds_mode and
    curr_filter parameters.
  + Shorten the NETLINK_FILTER_DIR_BIDIRECTIONAL to NETLINK_FILTER_DIR_BOTH
  + Add ability to clear egress and ingress filter separately
- PONRTSYS-3854: Frames generated by ONU should not be processed by Multicast thread
  + Skip processing of outgoing packets read from raw socket
- PONRTSYS-2771: DB is FULL after setting 60 T-CONTs
  + Remove filters for PPTP Eth UNI before clsact and mqprio are deleted
- PONRTSYS-3709: Cleanup pon_mcc_drv
  + Change function name from mcl_snoop_enable to mcl_multicast_enable
- PONRTSYS-3121: OMCI ME 11 - PPTP Eth UNI functional implementation
  + Add PPTP Ethernet UNI ME attributes handling
- PONRTSYS-3726: Small mistake in printout error of netlink_filter_add()
- PONRTSYS-3003: WRED - Create netlink_qdisc_wred_create() function
- PONRTSYS-3616: OMCI PPTP UNI calls to use PON Adapter
  + Rename struct pa_pptp_eth_uni_data

v1.0.2 2019.02.28

- PONRTSYS-3196: Cover more extVLAN scenarios
  + Add rule 1.2, 2.2, 0.1, 1.1, 2.1.
- PONRTSYS-3001: Create netlink_qdisc_red_create() function
- PONRTSYS-47: Support for LCT on Falcon Mountain
  + Add support to enable/disable the LCT interface based on the administrative state.
- PONRTSYS-3068: BBF 6.3.5 failed
  + Fixing incorrect PCP bits of the ext VLAN tag for multicast control packets
- PONRTSYS-2631: Ext. Vlan - new interface adaptation
  + Adapt existing code to new interface
- PONRTSYS-3050: Ext. Vlan - table based approach
  + Refactor Ext. Vlan to table based appoach
- PONRTSYS-2611: Menage Entity 309: MOP VLAN operations for mc control packets
  + Add packets filter, vlan push, pop and modify functions
- PONRTSYS-2726: Support color marking action in netlink_filter_add()

v1.0.1 2019.02.05

- PONRTSYS-2771: DB is FULL after setting 60 T-CONTs
  + Fix order of queue filters removal
- PONRTSYS-3117: Unexpected MC ctrl packets in MC thread
  before snoop mode enabled
  + A fix for PONRTSYS-3066 - incorrect flow control fixed
- PONRTSYS-3066: Snooping not enabled on start when MOP ME
  has no multicast gemport
  + Snooping enabled on GEM creation for the case of enabling
  failure on MOP creation (failure caused by no GEM)
- PONRTSYS-2929: Remote exploitable buffer overflow in pon net lib
  + Added error handling for buffer overflow when adding VLAN
- PONRTSYS-2663: Banned C functions in pon-net-lib
  + Find and use safec (mandatory)
- PONRTSYS-3022: Delay queue configuration for GEM ports in pmapper
  + Reapply configuration after GEM is added to Pmapper as pcp
- PONRTSYS-3030: Configure bridge port map referring by ifindex and block fwd to CPU
  + Set/clear first bit of bridge port map to 0 for all devices connected to the bridge
- PONRTSYS-2958: MOP creation failure
  + Enable snooping if Multicast GEM is available

v1.0.0 2018.12.19

- PONRTSYS-2930: Errors printed from MCC daemon with Calix OLT
  + Fix Multicast VLAN push
- PONRTSYS-2610: ME 309 - MOP - US DS IGMP for BBF-247
  + Add implementation of software Ext. Vlan handling for IGMP
- PONRTSYS-2803: Snooping Configuration triggered by ME 309 MOP
  + Enable snooping when at least one instance of managed entity exists
- PONRTSYS-2799: Ext. Vlan - correct TPID handling in double tagged rules
  + Add correct TPID handling in rule 2.16
- PONRTSYS-2844: Enslave Multicast GEM to Bridge
  + Add support for adding multicast GEM ports to a bridge
- PONRTSYS-2792: VLAN tags are stripped from IGMP packets
  + Use meta_info directly for pon_mcc_priv
  + Only change size when successful
  + Extract message receiving into own function
  + Get outer VLAN from auxdata
  + Log out only when in was logged
- PONRTSYS-2733: Ext. Vlan - Proper handling of vlan_ethtype
  + Deduce ethertype from ethertype_filter
  + Add rule_generic_modify(), which is common to some rules
  + Change the type of proto to int (to make in consistent with vlan_proto)
  + Move out the INGRESS/EGRESS setting to a common place
- PONRTSYS-2613: MCC Platform Abstraction implementation
  + Implement functions related to ports and updating forwarding table entries
- PONRTSYS-2714: Vlan tagging filter data - fix execution of tc filters commands
  + Create 2 default filters for single tagged frames (one for each vlan TPID)
  + Create 2 filters per rule (one for each vlan TPID)
  + Use correct priority for vlan filtering rules
  + Change format of displaying handle in debug output
- PONRTSYS-2693: mqprio - rtnl_qdisc_add() failed with -7
  + Add compilation flag to exclude mqprio creation

v0.1.10 2018.11.20

- PONRTSYS-2656: VLAN tagging filter data - adding filters to pmapper with skip_sw fails
  + Add filters to pmapper only if it is added to a bridge
- PONRTSYS-2575: Move debug functions to PON Adapter
- PONRTSYS-2073: Move OMCC socket to lower layer
  + OMCI msg sending/receiving moved together with low layer socket access
    from OMCI ONU to PON Net Lib
  + PON Adapter used for registering send and receive callback routine
- PONRTSYS-2026: Print out equivalent ip/tc commands in pon-net-lib
  + Display TC command when filters are being created
- PONRTSYS-1716: Ext. VLAN tagging ops config data integration and IOP
  + Add list which can hold Managed Entity state.
  + Use list to save Ext. Vlan attributes
  + Change setup_filter(): it will now allocate the number of filters it needs
  + Implement TPID handling for rule 0.5
  + Set action->filter field in filter2action(), so that setup_filters()

v0.1.9 2018.10.22

- PONRTSYS-1716: Ext. VLAN tagging ops config data integration and IOP
  + Enable mqprio HW offload

v0.1.8 2018.10.08

- PONRTSYS-122: Multicast controller basic handling of control packets
  + Implement basic functions needed for MCC (init, shutdown, parse_ethernet, pkt_receive, pkt_receive_cancel, pkt_send)
  + Implement dummy functions for rest of interface functions
  + Add interface list definition for MCC US/DS storage
  + Add basic functions for list handling(init, add, del, destroy)
  + Add list operations for UNI and ANI side
- PONRTSYS-115 OMCI ME 310 - Multicast Subscriber Config Info basic implementation
  + Add support for zte_emop ME in pon_net_lib
- PONRTSYS-2054: Memory access issue to bridge_table_entries
  + Fix bridge_table_data get by update arguments value
- PONRTSYS-1746: OMCI ME 281 - Multicast GEM ITP
  + Add implementation for create and destroy functions
- PONRTSYS-130: OMCI downstream priority queue setup - pon net lib implementation
  + Assign GEM port to eth0_X queue
- PONRTSYS-108: Extended VLAN support more filter rules
  + Add implementation for other filter rules
- PONRTSYS-1946: Extended VLAN - basic PON Net lib implementation
  + Add basic implementation of Extended VLAN config data

v0.1.7 2018.09.05

- PONRTSYS-118: OMCI traffic scheduler for downstream (UNI port)
  + Add mqprio qdisc support to the PPTP Ethernet UNI Managed Entity
- PONRTSYS-1945 Ext. VLAN - extend netlink_filter_add
  + Add support for flower filters with action vlan
- PONRTSYS-65: OMCI upstream priority queue setup
  + Add creation of ingress queue while creating T-CONT
  + Add creation of filter in T-CONT ingress to match corresponding GEM Port
- PONRTSYS-1955: T-CONT Managed Entity destroying fails
  + Add qdisc_cache to PON Net Library context
- PONRTSYS-126: OMCI traffic scheduler configuration for T-CONT
  + Add mqprio qdisc support to the T-CONT Managed Entity

v0.1.6 2018.08.14

- PONRTSYS-54: Fix "what" strings and versions in PON components
- PONRTSYS-311: OMCI cannot be started after crash
  + Remove all PON Net Lib netdevices at startup

v0.1.5 2018.07.19

- PONRTSYS-53: Handle order dependencies in pon adapter library calls
  + Return "PON_ADAPTER_EAGAIN" as expected failure for GEM interface creation
    (it requires PON Library counterpart to be called first)
  + Do not create mapper for GEM ITP before checking existence of associated GEM Port Network CTP

v0.1.4 2018.07.11

- PONRTSYS-310: Add only pmapper with gem port to a bridge
  + Check if pmapper have gem before adding it to a bridge

v0.1.3 2018.06.29

- FALCONSW-888: Support flower API to setup VLAN filtering
  + Implement vlan tagging filter data
- FALCONSW-608: Bridge port connections interface improvements with PON Adapter
  + Remove struct pa_mac_bp_connect and replace all calls by a generic
    connect function
- FALCONSW-153: UNI port lock/unlock
  + Implemented lock/unlock for PPTP Ethernet UNI Managed Entity

v0.1.2 2018.04.20

- FALCONSW-779: Multiple problems in PON Net Library
  + Fix errors with destroying PPTP Ethernet UNI ports
  + Don't report errors when attempted to destroy the device that didn't exist
  + Fixed T-CONT ID for dowstream ports (and also others)
- FALCONSW-723: OMCI configuration fails in 2. configuration without OMCId restart
  + Fix 802.1p Mapper Service Profile causing problems after MIB reset
- FALCONSW-722: Put network interfaces into up state
  + Network interfaces are now up when created (depending on context)
- FALCONSW-714: [XGSPON] OMCI "Set GEM Port Network CTP" Encryption Key Ring returns Error
  + Do not recreate GEM netdevice when GEM id did not change
- FALCONSW-699: Do not create bridge port netdevices in PON Net Lib
- FALCONSW-670: Add GEM netdev to bridge in MAC bridge port config
  + Move adding of GEM network device to Bridge port configuration ME
- FALCONSW-664: Implement 802.1p Mapper Service Profile ME using pon_net_lib
  + Implement 802.1p Mapper Service Profile
- FALCONSW-663: Implement "PPTP Ethernet UNI" with PON Adapter
  + Implement basic support for PPTP Ethernet UNI ME
- FALCONSW-655: PON Net Library debug mechanism
  + Add debug functions
- FALCONSW-641: Fix warnings type: unreferenced formal parameter from simulation
- FALCONSW-636: Implement GEM Interworking TP ME in PON Net Library
  + Implement GEM netdev creation
  + Implement connection between GEM and Bridge netdevs
- FALCONSW-635: Setup OMCI channel
- FALCONSW-568: Provide a "config-get" for PON Adapter LL modules
  + Update init function definition to accept pa_config
- FALCONSW-484: Connect GEM netdevs to T-CONT netdev
- FALCONSW-481: OMCI ME47 MAC bridge port configuration data for PPTP UNI
  + Add support for PPTP Ethernet UNI

v0.1.1 2018.02.12

- FALCONSW-482: Create PON ethernet driver tcont netdev over netlink
  + Introduce link creation and destruction for T-CONT ME
- FALCONSW-480: Create PON ethernet driver bridge ports over netlink
  + Implement MAC Bridge Port Configuration netdev creation
  + Implement MAC Bridge Service profile netdev creation
- FALCONSW-447: Create new module "pon-net-lib"
  + Add initial files
  + Add example function call from libnl-route
- Update simulation for windows
